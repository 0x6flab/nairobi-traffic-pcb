#include <WS2812FX.h>

#define THIKA_COUNT 15
#define THIKA_LED_PIN 6
#define KIAMBU_COUNT 3
#define KIAMBU_LED_PIN 4
#define JUJA_COUNT 9
#define JUJA_LED_PIN 1
#define JOGOO_COUNT 5
#define JOGOO_LED_PIN 2
#define KANGUNDO_COUNT 3
#define KANGUNDO_LED_PIN 39
#define KODHEK_COUNT 4
#define KODHEK_LED_PIN 12
#define DAGORETTI_COUNT 3
#define DAGORETTI_LED_PIN 21
#define NGONG_COUNT 6
#define NGONG_LED_PIN 7
#define LANGATA_COUNT 7
#define LANGATA_LED_PIN 5
#define MOMBASA_COUNT 7
#define MOMBASA_LED_PIN 8
#define EMBAKASI_COUNT 4
#define EMBAKASI_LED_PIN 13
#define KAYOLE_COUNT 5
#define KAYOLE_LED_PIN 11
#define KILELESHWA_COUNT 4
#define KILELESHWA_LED_PIN 38
#define WAYAKI_COUNT 4
#define WAYAKI_LED_PIN 10
#define PARKLANDS_COUNT 3
#define PARKLANDS_LED_PIN 9
#define LIMURU_COUNT 6
#define LIMURU_LED_PIN 14

#define TIMER_MS 5000

WS2812FX thikaled = WS2812FX(THIKA_COUNT, THIKA_LED_PIN, NEO_RGB + NEO_KHZ800);
WS2812FX kiambuled = WS2812FX(KIAMBU_COUNT, KIAMBU_LED_PIN, NEO_RGB + NEO_KHZ800);
WS2812FX jujaled = WS2812FX(JUJA_COUNT, JUJA_LED_PIN, NEO_RGB + NEO_KHZ800);
WS2812FX jogooled = WS2812FX(JOGOO_COUNT, JOGOO_LED_PIN, NEO_RGB + NEO_KHZ800);
WS2812FX kangundoled = WS2812FX(KANGUNDO_COUNT, KANGUNDO_LED_PIN, NEO_RGB + NEO_KHZ800);
WS2812FX kodhekled = WS2812FX(KODHEK_COUNT, KODHEK_LED_PIN, NEO_RGB + NEO_KHZ800);
WS2812FX dagorettiled = WS2812FX(DAGORETTI_COUNT, DAGORETTI_LED_PIN, NEO_RGB + NEO_KHZ800);
WS2812FX ngongled = WS2812FX(NGONG_COUNT, NGONG_LED_PIN, NEO_RGB + NEO_KHZ800);
WS2812FX langataled = WS2812FX(LANGATA_COUNT, LANGATA_LED_PIN, NEO_RGB + NEO_KHZ800);
WS2812FX mombasaled = WS2812FX(MOMBASA_COUNT, MOMBASA_LED_PIN, NEO_RGB + NEO_KHZ800);
WS2812FX embakasiled = WS2812FX(EMBAKASI_COUNT, EMBAKASI_LED_PIN, NEO_RGB + NEO_KHZ800);
WS2812FX kayoleled = WS2812FX(KAYOLE_COUNT, KAYOLE_LED_PIN, NEO_RGB + NEO_KHZ800);
WS2812FX kileleshwaled = WS2812FX(KILELESHWA_COUNT, KILELESHWA_LED_PIN, NEO_RGB + NEO_KHZ800);
WS2812FX wayakiled = WS2812FX(WAYAKI_COUNT, WAYAKI_LED_PIN, NEO_RGB + NEO_KHZ800);
WS2812FX parklandsled = WS2812FX(PARKLANDS_COUNT, PARKLANDS_LED_PIN, NEO_RGB + NEO_KHZ800);
WS2812FX limuruled = WS2812FX(LIMURU_COUNT, LIMURU_LED_PIN, NEO_RGB + NEO_KHZ800);

unsigned long last_change_thika = 0;
unsigned long last_change_kiambu = 0;
unsigned long last_change_juja = 0;
unsigned long last_change_jogoo = 0;
unsigned long last_change_kangundo = 0;
unsigned long last_change_kodhek = 0;
unsigned long last_change_dagoretti = 0;
unsigned long last_change_ngong = 0;
unsigned long last_change_langata = 0;
unsigned long last_change_mombasa = 0;
unsigned long last_change_embakasi = 0;
unsigned long last_change_kayole = 0;
unsigned long last_change_kileleshwa = 0;
unsigned long last_change_wayaki = 0;
unsigned long last_change_parklands = 0;
unsigned long last_change_limuru = 0;

unsigned long now = 0;

void setup()
{
    thikaled.init();
    thikaled.setBrightness(255);
    thikaled.setSpeed(1000);
    thikaled.setColor(0x400080);
    thikaled.setMode(FX_MODE_COMET);
    thikaled.start();

    kiambuled.init();
    kiambuled.setBrightness(255);
    kiambuled.setSpeed(1000);
    kiambuled.setColor(0x400080);
    kiambuled.setMode(FX_MODE_COMET);
    kiambuled.start();

    jujaled.init();
    jujaled.setBrightness(255);
    jujaled.setSpeed(1000);
    jujaled.setColor(0x400080);
    jujaled.setMode(FX_MODE_COMET);
    jujaled.start();

    jogooled.init();
    jogooled.setBrightness(255);
    jogooled.setSpeed(1000);
    jogooled.setColor(0x400080);
    jogooled.setMode(FX_MODE_COMET);
    jogooled.start();

    kangundoled.init();
    kangundoled.setBrightness(255);
    kangundoled.setSpeed(1000);
    kangundoled.setColor(0x400080);
    kangundoled.setMode(FX_MODE_COMET);
    kangundoled.start();

    kodhekled.init();
    kodhekled.setBrightness(255);
    kodhekled.setSpeed(1000);
    kodhekled.setColor(0x400080);
    kodhekled.setMode(FX_MODE_COMET);
    kodhekled.start();

    dagorettiled.init();
    dagorettiled.setBrightness(255);
    dagorettiled.setSpeed(1000);
    dagorettiled.setColor(0x400080);
    dagorettiled.setMode(FX_MODE_COMET);
    dagorettiled.start();

    ngongled.init();
    ngongled.setBrightness(255);
    ngongled.setSpeed(1000);
    ngongled.setColor(0x400080);
    ngongled.setMode(FX_MODE_COMET);
    ngongled.start();

    langataled.init();
    langataled.setBrightness(255);
    langataled.setSpeed(1000);
    langataled.setColor(0x400080);
    langataled.setMode(FX_MODE_COMET);
    langataled.start();

    mombasaled.init();
    mombasaled.setBrightness(255);
    mombasaled.setSpeed(1000);
    mombasaled.setColor(0x400080);
    mombasaled.setMode(FX_MODE_COMET);
    mombasaled.start();

    embakasiled.init();
    embakasiled.setBrightness(255);
    embakasiled.setSpeed(1000);
    embakasiled.setColor(0x400080);
    embakasiled.setMode(FX_MODE_COMET);
    embakasiled.start();

    kayoleled.init();
    kayoleled.setBrightness(255);
    kayoleled.setSpeed(1000);
    kayoleled.setColor(0x400080);
    kayoleled.setMode(FX_MODE_COMET);
    kayoleled.start();

    kileleshwaled.init();
    kileleshwaled.setBrightness(255);
    kileleshwaled.setSpeed(1000);
    kileleshwaled.setColor(0x400080);
    kileleshwaled.setMode(FX_MODE_COMET);
    kileleshwaled.start();

    wayakiled.init();
    wayakiled.setBrightness(255);
    wayakiled.setSpeed(1000);
    wayakiled.setColor(0x400080);
    wayakiled.setMode(FX_MODE_COMET);
    wayakiled.start();

    parklandsled.init();
    parklandsled.setBrightness(255);
    parklandsled.setSpeed(1000);
    parklandsled.setColor(0x400080);
    parklandsled.setMode(FX_MODE_COMET);
    parklandsled.start();

    limuruled.init();
    limuruled.setBrightness(255);
    limuruled.setSpeed(1000);
    limuruled.setColor(0x400080);
    limuruled.setMode(FX_MODE_COMET);
    limuruled.start();
}

void loop()
{
    now = millis();

    thikaled.service();

    if (now - last_change_thika > TIMER_MS)
    {
        thikaled.setMode((thikaled.getMode() + 1) % thikaled.getModeCount());
        last_change_thika = now;
    }

    kiambuled.service();

    if (now - last_change_kiambu > TIMER_MS)
    {
        kiambuled.setMode((kiambuled.getMode() + 1) % kiambuled.getModeCount());
        last_change_kiambu = now;
    }

    jujaled.service();

    if (now - last_change_juja > TIMER_MS)
    {
        jujaled.setMode((jujaled.getMode() + 1) % jujaled.getModeCount());
        last_change_juja = now;
    }

    jogooled.service();

    if (now - last_change_jogoo > TIMER_MS)
    {
        jogooled.setMode((jogooled.getMode() + 1) % jogooled.getModeCount());
        last_change_jogoo = now;
    }

    kangundoled.service();

    if (now - last_change_kangundo > TIMER_MS)
    {
        kangundoled.setMode((kangundoled.getMode() + 1) % kangundoled.getModeCount());
        last_change_kangundo = now;
    }

    kodhekled.service();

    if (now - last_change_kodhek > TIMER_MS)
    {
        kodhekled.setMode((kodhekled.getMode() + 1) % kodhekled.getModeCount());
        last_change_kodhek = now;
    }

    dagorettiled.service();

    if (now - last_change_dagoretti > TIMER_MS)
    {
        dagorettiled.setMode((dagorettiled.getMode() + 1) % dagorettiled.getModeCount());
        last_change_dagoretti = now;
    }

    ngongled.service();

    if (now - last_change_ngong > TIMER_MS)
    {
        ngongled.setMode((ngongled.getMode() + 1) % ngongled.getModeCount());
        last_change_ngong = now;
    }

    langataled.service();

    if (now - last_change_langata > TIMER_MS)
    {
        langataled.setMode((langataled.getMode() + 1) % langataled.getModeCount());
        last_change_langata = now;
    }

    mombasaled.service();

    if (now - last_change_mombasa > TIMER_MS)
    {
        mombasaled.setMode((mombasaled.getMode() + 1) % mombasaled.getModeCount());
        last_change_mombasa = now;
    }

    embakasiled.service();

    if (now - last_change_embakasi > TIMER_MS)
    {
        embakasiled.setMode((embakasiled.getMode() + 1) % embakasiled.getModeCount());
        last_change_embakasi = now;
    }

    kayoleled.service();

    if (now - last_change_kayole > TIMER_MS)
    {
        kayoleled.setMode((kayoleled.getMode() + 1) % kayoleled.getModeCount());
        last_change_kayole = now;
    }

    kileleshwaled.service();

    if (now - last_change_kileleshwa > TIMER_MS)
    {
        kileleshwaled.setMode((kileleshwaled.getMode() + 1) % kileleshwaled.getModeCount());
        last_change_kileleshwa = now;
    }

    wayakiled.service();

    if (now - last_change_wayaki > TIMER_MS)
    {
        wayakiled.setMode((wayakiled.getMode() + 1) % wayakiled.getModeCount());
        last_change_wayaki = now;
    }

    parklandsled.service();

    if (now - last_change_parklands > TIMER_MS)
    {
        parklandsled.setMode((parklandsled.getMode() + 1) % parklandsled.getModeCount());
        last_change_parklands = now;
    }

    limuruled.service();

    if (now - last_change_limuru > TIMER_MS)
    {
        limuruled.setMode((limuruled.getMode() + 1) % limuruled.getModeCount());
        last_change_limuru = now;
    }
}